<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visit Us | Falcamel · Grandma's House</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --sand: #F5EDE3;
            --sand-dark: #E8DCC8;
            --terracotta: #C4836A;
            --cream: #FDFBF8;
            --brown: #5C4A3D;
            --brown-light: #7D6B5D;
            --gold-muted: #C9A962;
            --warm-red: #B85C4A;
            --success: #6B8E6B;
            --error: #B85C4A;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'DM Sans', sans-serif; background: var(--sand); color: var(--brown); line-height: 1.7; min-height: 100vh; }
        h1, h2, h3 { font-family: 'Lora', serif; font-weight: 500; line-height: 1.3; }
        .page { min-height: 100vh; padding: 1.5rem 2rem 3rem; }
        .booking-card { max-width: 1000px; margin: 0 auto; background: var(--cream); border: 2px dashed var(--terracotta); border-radius: 12px; padding: 1.5rem 2.5rem 2.5rem; }
        .booking-header { margin-bottom: 1.25rem; }
        .booking-header h1 { font-size: 2rem; color: var(--brown); }
        .section { margin-bottom: 1rem; }
        .section-label { font-family: 'Lora', serif; font-size: 0.85rem; font-weight: 500; color: var(--terracotta); margin-bottom: 0.5rem; }
        .date-pills { display: flex; gap: 0.5rem; overflow-x: auto; padding-bottom: 0.5rem; }
        .date-pill { flex-shrink: 0; display: flex; flex-direction: column; align-items: center; padding: 0.5rem 0.875rem; border: 1px solid var(--terracotta); border-radius: 10px; background: transparent; color: var(--brown); cursor: pointer; transition: all 0.15s; min-width: 60px; }
        .date-pill:hover { background: var(--sand); }
        .date-pill.selected { background: var(--terracotta); border-color: var(--terracotta); color: var(--cream); }
        .date-pill .day { font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.05em; opacity: 0.6; }
        .date-pill .num { font-family: 'Lora', serif; font-size: 1.125rem; font-weight: 500; }
        .date-pill.selected .day { opacity: 1; }
        .date-pill svg { width: 18px; height: 18px; }
        .calendar-dropdown { position: relative; }
        .calendar-panel { display: none; position: absolute; top: 0.5rem; left: 0; background: var(--cream); border: 2px dashed var(--terracotta); border-radius: 12px; padding: 1rem; z-index: 100; min-width: 280px; }
        .calendar-panel.open { display: block; }
        .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .calendar-month { font-family: 'Lora', serif; font-weight: 500; font-size: 0.9rem; }
        .calendar-nav { display: flex; gap: 0.25rem; }
        .calendar-nav button { width: 28px; height: 28px; background: var(--sand); border: 1px solid var(--terracotta); border-radius: 8px; cursor: pointer; color: var(--brown); }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; text-align: center; }
        .calendar-weekday { font-size: 0.6rem; font-weight: 500; color: var(--terracotta); text-transform: uppercase; padding: 0.5rem 0; }
        .calendar-day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; border-radius: 8px; cursor: pointer; }
        .calendar-day:hover:not(.empty):not(.past) { background: var(--sand); }
        .calendar-day.past { opacity: 0.3; cursor: not-allowed; }
        .calendar-day.selected { background: var(--terracotta); color: var(--cream); font-weight: 600; }
        .calendar-day.today { border: 1px solid var(--terracotta); }
        .time-grid { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .time-slot { padding: 0.5rem 0.875rem; border: 1px solid var(--terracotta); border-radius: 8px; background: transparent; color: var(--brown); cursor: pointer; font-size: 0.875rem; transition: all 0.15s; }
        .time-slot:hover { background: var(--sand); }
        .time-slot.selected { background: var(--terracotta); border-color: var(--terracotta); color: var(--cream); }
        .duration-grid { display: flex; gap: 0.5rem; }
        .duration-btn { padding: 0.5rem 1rem; border: 1px solid var(--terracotta); border-radius: 8px; background: transparent; color: var(--brown); cursor: pointer; font-size: 0.875rem; transition: all 0.15s; }
        .duration-btn:hover { background: var(--sand); }
        .duration-btn.selected { background: var(--terracotta); border-color: var(--terracotta); color: var(--cream); }
        .duration-note { margin-top: 0.5rem; font-size: 0.7rem; color: var(--brown-light); }
        .companion-section { display: none; }
        .companion-section.visible { display: block; }
        .companion-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
        @media (max-width: 700px) { .companion-grid { grid-template-columns: 1fr; } }
        .companion-card { background: var(--sand); border: 1px solid var(--terracotta); border-radius: 10px; padding: 1.25rem; transition: all 0.15s; }
        .companion-card:hover:not(.unavailable) { border-color: var(--warm-red); }
        .companion-card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem; }
        .companion-name { font-family: 'Lora', serif; font-size: 1.25rem; font-weight: 500; color: var(--brown); }
        .companion-badge { font-size: 0.6rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; padding: 0.25rem 0.5rem; border-radius: 6px; }
        .companion-badge.available { background: rgba(107, 142, 107, 0.15); color: var(--success); }
        .companion-tagline { font-size: 0.85rem; font-style: italic; color: var(--brown-light); margin-bottom: 0.75rem; }
        .companion-features { display: flex; flex-wrap: wrap; gap: 0.375rem; margin-bottom: 0.75rem; }
        .companion-feature { font-size: 0.65rem; padding: 0.2rem 0.5rem; background: rgba(196, 131, 106, 0.15); border-radius: 6px; color: var(--terracotta); }
        .companion-footer { display: flex; justify-content: space-between; align-items: center; }
        .companion-price strong { font-family: 'Lora', serif; font-size: 1.125rem; font-weight: 600; color: var(--brown); }
        .companion-price span { font-size: 0.75rem; color: var(--brown-light); }
        .book-btn { padding: 0.5rem 1rem; background: var(--terracotta); color: var(--cream); border: none; border-radius: 8px; font-size: 0.8rem; font-weight: 500; cursor: pointer; }
        .book-btn:hover { background: var(--warm-red); }
        .full-package { margin-top: 1rem; padding: 1.25rem; background: var(--terracotta); border-radius: 10px; color: var(--cream); display: none; }
        .full-package.visible { display: block; }
        .full-package-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem; }
        .full-package h3 { font-size: 1.25rem; color: var(--cream); }
        .full-package-badge { font-size: 0.6rem; font-weight: 600; text-transform: uppercase; padding: 0.25rem 0.5rem; border-radius: 100px; background: rgba(255,255,255,0.2); color: var(--cream); }
        .full-package-subtitle { font-size: 0.85rem; opacity: 0.9; margin-bottom: 0.75rem; font-style: italic; }
        .full-package-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 0.75rem; border-top: 1px dashed rgba(255,255,255,0.3); }
        .full-package-price { font-family: 'Lora', serif; font-size: 1.5rem; font-weight: 600; }
        .full-package-price span { font-size: 0.8rem; font-weight: 400; opacity: 0.8; }
        .full-package-btn { padding: 0.625rem 1.25rem; background: var(--cream); color: var(--brown); border: none; border-radius: 8px; font-size: 0.875rem; font-weight: 600; cursor: pointer; }
        .full-package-btn:hover { background: var(--sand); }
        .footer { max-width: 1000px; margin: 1.5rem auto 0; text-align: center; font-size: 0.75rem; color: var(--brown-light); }
        .footer a { color: var(--terracotta); text-decoration: none; }
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(92, 74, 61, 0.95); z-index: 1000; overflow-y: auto; padding: 1.5rem 2rem 3rem; display: none; }
        .modal { max-width: 1000px; margin: 0 auto; background: var(--cream); border: 2px dashed var(--terracotta); border-radius: 12px; padding: 1.5rem 2.5rem 2.5rem; position: relative; }
        .modal-close { position: absolute; top: 1.5rem; right: 1.5rem; background: none; border: 1px solid var(--terracotta); border-radius: 8px; color: var(--terracotta); font-size: 1.25rem; width: 40px; height: 40px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .modal-close:hover { background: var(--sand); }
        .modal-header { margin-bottom: 1.25rem; }
        .modal-header h1 { font-size: 1.75rem; color: var(--brown); }
        .modal-section { background: var(--sand); border: 1px solid var(--terracotta); border-radius: 10px; padding: 1.25rem; margin-bottom: 1rem; }
        .modal-section-title { font-family: 'Lora', serif; font-size: 1rem; color: var(--terracotta); margin-bottom: 0.75rem; }
        .summary-row { display: flex; justify-content: space-between; font-size: 0.875rem; margin-bottom: 0.375rem; }
        .summary-row span:first-child { color: var(--brown-light); }
        .summary-row.total { padding-top: 0.75rem; margin-top: 0.5rem; border-top: 1px dashed var(--terracotta); font-weight: 600; }
        .summary-row.total span:last-child { color: var(--brown); font-size: 1.125rem; }
        .included-details { margin-top: 1rem; padding-top: 1rem; border-top: 1px dashed var(--terracotta); }
        .included-title { font-size: 0.75rem; color: var(--terracotta); margin-bottom: 0.5rem; }
        .included-details ul { list-style: none; font-size: 0.8rem; color: var(--brown); }
        .included-details li { margin-bottom: 0.25rem; }
        .included-details li::before { content: '✓ '; color: var(--success); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .form-field { margin-bottom: 0.875rem; }
        .form-field label { display: block; font-size: 0.75rem; color: var(--terracotta); margin-bottom: 0.375rem; }
        .form-field input { width: 100%; padding: 0.625rem 0.875rem; background: var(--cream); border: 1px solid var(--terracotta); border-radius: 8px; font-size: 0.875rem; color: var(--brown); }
        .form-field input:focus { outline: none; border-color: var(--warm-red); }
        .section-subtitle { font-size: 0.75rem; color: var(--brown-light); margin-bottom: 0.5rem; }
        .occasion-pills { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .occasion-pill { padding: 0.4rem 0.875rem; background: var(--cream); border: 1px solid var(--terracotta); border-radius: 100px; font-size: 0.75rem; color: var(--brown); cursor: pointer; }
        .occasion-pill:hover { background: var(--sand-dark); }
        .occasion-pill.selected { background: var(--terracotta); border-color: var(--terracotta); color: var(--cream); }
        .notes-field { width: 100%; min-height: 80px; padding: 0.625rem 0.875rem; background: var(--cream); border: 1px solid var(--terracotta); border-radius: 8px; font-size: 0.875rem; color: var(--brown); font-family: inherit; resize: vertical; }
        .notes-field:focus { outline: none; border-color: var(--warm-red); }
        .complete-btn { width: 100%; padding: 0.875rem; background: var(--terracotta); color: var(--cream); border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; }
        .complete-btn:hover { background: var(--warm-red); }
    </style>
</head>
<body>
    <div class="page">
        <div class="booking-card">
            <div class="booking-header"><h1>Come Visit Us</h1></div>
            <div class="section"><div class="section-label">Pick a Day</div><div class="date-pills" id="datePills"></div><div class="calendar-dropdown"><div class="calendar-panel" id="calendarPanel"><div class="calendar-header"><span class="calendar-month" id="calendarMonth"></span><div class="calendar-nav"><button onclick="prevMonth()">‹</button><button onclick="nextMonth()">›</button></div></div><div class="calendar-grid" id="calendarGrid"></div></div></div></div>
            <div class="section"><div class="section-label">What Time?</div><div class="time-grid" id="timeGrid"></div></div>
            <div class="section"><div class="section-label">How Long?</div><div class="duration-grid" id="durationGrid"></div><div class="duration-note">Stay as long as you like. Grandma doesn't rush.</div></div>
            <div class="section companion-section" id="companionSection">
                <div class="section-label">Who Do You Want to See?</div>
                <div class="companion-grid">
                    <div class="companion-card" data-companion="sultan" data-base-price="200">
                        <div class="companion-card-header"><span class="companion-name">Sultan</span><span class="companion-badge available">Available</span></div>
                        <p class="companion-tagline">Sultan perches nearby. He may come to your table. He may not. That's his choice.</p>
                        <div class="companion-features"><span class="companion-feature">12 seats</span><span class="companion-feature">Falcon Flight</span><span class="companion-feature">2 beverages</span><span class="companion-feature">Falconer</span><span class="companion-feature">Photos welcome</span></div>
                        <div class="companion-footer"><span class="companion-price"><strong>SAR 200</strong> <span>/ hour</span></span><button class="book-btn" onclick="bookCompanion('sultan')">Visit</button></div>
                    </div>
                    <div class="companion-card" data-companion="haboob" data-base-price="150">
                        <div class="companion-card-header"><span class="companion-name">Haboob</span><span class="companion-badge available">Available</span></div>
                        <p class="companion-tagline">Haboob stations himself near your table. His milk is in your latte.</p>
                        <div class="companion-features"><span class="companion-feature">8 seats</span><span class="companion-feature">Camel Ride</span><span class="companion-feature">2 beverages</span><span class="companion-feature">Camel milk latte</span></div>
                        <div class="companion-footer"><span class="companion-price"><strong>SAR 150</strong> <span>/ hour</span></span><button class="book-btn" onclick="bookCompanion('haboob')">Visit</button></div>
                    </div>
                    <div class="companion-card" data-companion="shams" data-base-price="100">
                        <div class="companion-card-header"><span class="companion-name">Shams</span><span class="companion-badge available">Available</span></div>
                        <p class="companion-tagline">Shams exists in your general vicinity. Interaction not guaranteed.</p>
                        <div class="companion-features"><span class="companion-feature">8 seats</span><span class="companion-feature">2 beverages</span><span class="companion-feature">Cat presence probable</span></div>
                        <div class="companion-footer"><span class="companion-price"><strong>SAR 100</strong> <span>/ hour</span></span><button class="book-btn" onclick="bookCompanion('shams')">Visit</button></div>
                    </div>
                    <div class="companion-card" data-companion="qamar" data-base-price="100">
                        <div class="companion-card-header"><span class="companion-name">Qamar</span><span class="companion-badge available">Available</span></div>
                        <p class="companion-tagline">Qamar claims the cushion next to you. Purring likely.</p>
                        <div class="companion-features"><span class="companion-feature">8 seats</span><span class="companion-feature">2 beverages</span><span class="companion-feature">Sunset recommended</span></div>
                        <div class="companion-footer"><span class="companion-price"><strong>SAR 100</strong> <span>/ hour</span></span><button class="book-btn" onclick="bookCompanion('qamar')">Visit</button></div>
                    </div>
                </div>
            </div>
            <div class="full-package" id="fullPackage">
                <div class="full-package-header"><h3>The Full Falcamel Challenge</h3><span class="full-package-badge">Available</span></div>
                <p class="full-package-subtitle">All you can eat. But you have to finish and you've got to feed the animals. Grandma's rules.</p>
                <div class="full-package-footer"><span class="full-package-price">SAR 180 <span>/ person</span></span><button class="full-package-btn" onclick="bookFullPackage()">Accept the Challenge →</button></div>
            </div>
        </div>
        <footer class="footer"><p>Falcamel Café · Grandma's House on the Escarpment · Powered by <a href="#">OSKAR</a></p></footer>
        <div class="modal-overlay" id="confirmModal">
            <div class="modal">
                <button class="modal-close" onclick="closeModal()">✕</button>
                <div class="modal-header"><h1>Confirm Your Visit</h1></div>
                <div class="modal-section"><h2 class="modal-section-title">Visit Details</h2><div class="summary-row"><span>Companion</span><span id="summaryCompanion"></span></div><div class="summary-row"><span>Date</span><span id="summaryDate"></span></div><div class="summary-row"><span>Time</span><span id="summaryTime"></span></div><div class="summary-row"><span>Duration</span><span id="summaryDuration"></span></div><div class="summary-row total"><span>Total</span><span id="summaryTotal"></span></div><div class="included-details"><p class="included-title">What's included:</p><ul id="includedList"></ul></div></div>
                <div class="modal-section"><h2 class="modal-section-title">Your Information</h2><div class="form-row"><div class="form-field"><label>First Name</label><input type="text" placeholder="First name"></div><div class="form-field"><label>Last Name</label><input type="text" placeholder="Last name"></div></div><div class="form-field"><label>Email</label><input type="email" placeholder="email@example.com"></div><div class="form-field"><label>Phone</label><input type="tel" placeholder="+966 XX XXX XXXX"></div></div>
                <div class="modal-section"><h2 class="modal-section-title">Special Occasion?</h2><p class="section-subtitle">Grandma loves to celebrate</p><div class="occasion-pills"><button class="occasion-pill selected" onclick="selectOccasion(this)">Just visiting</button><button class="occasion-pill" onclick="selectOccasion(this)">Birthday</button><button class="occasion-pill" onclick="selectOccasion(this)">Anniversary</button><button class="occasion-pill" onclick="selectOccasion(this)">Family gathering</button><button class="occasion-pill" onclick="selectOccasion(this)">Other</button></div></div>
                <div class="modal-section"><h2 class="modal-section-title">Anything Else?</h2><textarea class="notes-field" placeholder="Allergies? Preferences? Just want to chat?"></textarea></div>
                <button class="complete-btn" onclick="completeReservation()">Confirm Visit</button>
            </div>
        </div>
    </div>
    <script>
        let selectedDate = null, selectedTime = null, selectedTimeHour = null, selectedDuration = 1, currentMonth = new Date();
        const companionInfo = {
            sultan: { name: "Sultan", basePrice: 200, included: ["12 seats", "Falcon Flight", "2 beverages", "Falconer", "Photos welcome", "Comfy cushions"] },
            haboob: { name: "Haboob", basePrice: 150, included: ["8 seats", "Camel Ride", "2 beverages", "Camel milk latte", "Comfy cushions"] },
            shams: { name: "Shams", basePrice: 100, included: ["8 seats", "2 beverages", "Cat presence probable", "Comfy cushions"] },
            qamar: { name: "Qamar", basePrice: 100, included: ["8 seats", "2 beverages", "Sunset recommended", "Comfy cushions"] },
            fullpackage: { name: "The Full Falcamel Challenge", basePrice: 180, included: ["Unlimited sweets", "All residents", "No time limit", "Stay as long as you can eat", "Grandma's bragging rights if you finish"] }
        };
        function generateDatePills() { const container = document.getElementById('datePills'), today = new Date(), days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']; const calPill = document.createElement('button'); calPill.className = 'date-pill'; calPill.innerHTML = '<span class="day">Calendar</span><span class="num"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></span>'; calPill.onclick = () => document.getElementById('calendarPanel').classList.toggle('open'); container.appendChild(calPill); for (let i = 0; i < 10; i++) { const date = new Date(today); date.setDate(today.getDate() + i); const pill = document.createElement('button'); pill.className = 'date-pill'; pill.innerHTML = '<span class="day">' + days[date.getDay()] + '</span><span class="num">' + date.getDate() + '</span>'; pill.onclick = () => selectDate(date, pill); container.appendChild(pill); } }
        function selectDate(date, pill) { selectedDate = date; document.querySelectorAll('.date-pill').forEach(p => p.classList.remove('selected')); if (pill) pill.classList.add('selected'); renderCalendar(); checkShowCompanions(); }
        function renderCalendar() { const grid = document.getElementById('calendarGrid'), monthLabel = document.getElementById('calendarMonth'), year = currentMonth.getFullYear(), month = currentMonth.getMonth(), months = ['January','February','March','April','May','June','July','August','September','October','November','December']; monthLabel.textContent = months[month] + ' ' + year; const firstDay = new Date(year, month, 1).getDay(), daysInMonth = new Date(year, month + 1, 0).getDate(), today = new Date(); today.setHours(0,0,0,0); let html = ['Su','Mo','Tu','We','Th','Fr','Sa'].map(d => '<div class="calendar-weekday">' + d + '</div>').join(''); for (let i = 0; i < firstDay; i++) html += '<div class="calendar-day empty"></div>'; for (let day = 1; day <= daysInMonth; day++) { const date = new Date(year, month, day), isPast = date < today, isToday = date.getTime() === today.getTime(), isSelected = selectedDate && date.getDate() === selectedDate.getDate() && date.getMonth() === selectedDate.getMonth() && date.getFullYear() === selectedDate.getFullYear(); let cls = 'calendar-day'; if (isPast) cls += ' past'; if (isToday) cls += ' today'; if (isSelected) cls += ' selected'; html += '<div class="' + cls + '" onclick="selectCalendarDay(' + day + ',' + month + ',' + year + ')">' + day + '</div>'; } grid.innerHTML = html; }
        function selectCalendarDay(day, month, year) { const date = new Date(year, month, day), today = new Date(); today.setHours(0,0,0,0); if (date < today) return; selectDate(date); document.getElementById('calendarPanel').classList.remove('open'); }
        function prevMonth() { currentMonth.setMonth(currentMonth.getMonth() - 1); renderCalendar(); }
        function nextMonth() { currentMonth.setMonth(currentMonth.getMonth() + 1); renderCalendar(); }
        function generateTimeSlots() { const grid = document.getElementById('timeGrid'), times = [{t:'4 PM',h:16},{t:'5 PM',h:17},{t:'6 PM',h:18},{t:'7 PM',h:19},{t:'8 PM',h:20},{t:'9 PM',h:21},{t:'10 PM',h:22},{t:'11 PM',h:23},{t:'12 AM',h:24},{t:'1 AM',h:25}]; grid.innerHTML = times.map(t => '<button class="time-slot" onclick="selectTime(this,\'' + t.t + '\',' + t.h + ')">' + t.t + '</button>').join(''); }
        function selectTime(el, time, hour) { selectedTime = time; selectedTimeHour = hour; document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected')); el.classList.add('selected'); checkShowCompanions(); }
        function generateDuration() { const grid = document.getElementById('durationGrid'); grid.innerHTML = [1,2,3,4].map(d => '<button class="duration-btn' + (d===1?' selected':'') + '" onclick="selectDuration(this,' + d + ')">' + d + ' hour' + (d>1?'s':'') + '</button>').join(''); }
        function selectDuration(el, hours) { selectedDuration = hours; document.querySelectorAll('.duration-btn').forEach(b => b.classList.remove('selected')); el.classList.add('selected'); checkShowCompanions(); }
        function checkShowCompanions() { const section = document.getElementById('companionSection'), pkg = document.getElementById('fullPackage'); if (selectedDate && selectedTime && selectedDuration) { section.classList.add('visible'); pkg.classList.add('visible'); updatePrices(); } else { section.classList.remove('visible'); pkg.classList.remove('visible'); } }
        function updatePrices() { document.querySelectorAll('.companion-card').forEach(card => { const base = parseInt(card.dataset.basePrice), total = base * selectedDuration; card.querySelector('.companion-price strong').textContent = 'SAR ' + total; card.querySelector('.companion-price span').textContent = selectedDuration > 1 ? '/ ' + selectedDuration + ' hours' : '/ hour'; }); }
        function bookCompanion(id) { const info = companionInfo[id], total = info.basePrice * selectedDuration, dateStr = selectedDate.toLocaleDateString('en-US', {weekday:'short',month:'short',day:'numeric'}); document.getElementById('summaryCompanion').textContent = info.name; document.getElementById('summaryDate').textContent = dateStr; document.getElementById('summaryTime').textContent = selectedTime; document.getElementById('summaryDuration').textContent = selectedDuration + ' hour' + (selectedDuration>1?'s':''); document.getElementById('summaryTotal').textContent = 'SAR ' + total; document.getElementById('includedList').innerHTML = info.included.map(i => '<li>' + i + '</li>').join(''); document.getElementById('confirmModal').style.display = 'block'; document.body.style.overflow = 'hidden'; }
        function bookFullPackage() { const info = companionInfo.fullpackage, dateStr = selectedDate.toLocaleDateString('en-US', {weekday:'short',month:'short',day:'numeric'}); document.getElementById('summaryCompanion').textContent = info.name; document.getElementById('summaryDate').textContent = dateStr; document.getElementById('summaryTime').textContent = selectedTime; document.getElementById('summaryDuration').textContent = 'No time limit'; document.getElementById('summaryTotal').textContent = 'SAR ' + info.basePrice + ' / person'; document.getElementById('includedList').innerHTML = info.included.map(i => '<li>' + i + '</li>').join(''); document.getElementById('confirmModal').style.display = 'block'; document.body.style.overflow = 'hidden'; }
        function closeModal() { document.getElementById('confirmModal').style.display = 'none'; document.body.style.overflow = ''; }
        function selectOccasion(el) { document.querySelectorAll('.occasion-pill').forEach(p => p.classList.remove('selected')); el.classList.add('selected'); }
        function completeReservation() { alert('Visit confirmed! Grandma is expecting you.'); closeModal(); }
        document.addEventListener('click', e => { if (!e.target.closest('.calendar-dropdown') && !e.target.closest('.date-pill')) document.getElementById('calendarPanel').classList.remove('open'); });
        generateDatePills(); generateTimeSlots(); generateDuration(); renderCalendar();
    </script>
</body>
</html>
